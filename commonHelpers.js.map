{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// import css from 'file.css';\n\nconst form = {\n  searchForm: document.querySelector('.search-form'),\n  input: document.querySelector('[type=\"text\"]'),\n};\n\nconst galleryContainer = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nform.searchForm.addEventListener('submit', onSearchImg);\n\nfunction onSearchImg(event) {\n  event.preventDefault();\n  const searchQuery = form.input.value.trim();\n  if (!searchQuery) {\n    iziToast.error({\n      message: 'Fill in the input field!',\n      position: 'topRight',\n    });\n    return;\n  }\n  // Показувати завантажувач\n  loader.style.display = 'block';\n\n  // Виклик запиту до сервера та отримання даних\n  fetchQuery(searchQuery);\n\n  form.searchForm.reset();\n}\n\n// =========================================================\nfunction fetchQuery(searchQuery) {\n  const searchParams = new URLSearchParams({\n    key: '42191077-576543231991193ea17287b56',\n    q: searchQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  const url = `https://pixabay.com/api/?${searchParams}`;\n  //   console.log(url);\n\n  fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageSize: 10.5,\n          position: 'topRight',\n        });\n      } else {\n        // console.log(data.hits);\n        displayImages(data.hits);\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      // Приховати індикатор завантаження після завершення запиту\n      loader.style.display = 'none';\n    });\n}\n\n// =====================================================\n\nfunction displayImages(images) {\n  // Очистити існуючу галерею\n  galleryContainer.innerHTML = '';\n  const galleryItem = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      alt=\"${tags}\"\n    />\n  </a>\n  <div class=\"image-details\">\n    <p><b>Likes</b> ${likes}</p>\n    <p><b>Views</b> ${views}</p>\n    <p><b>Comments</b> ${comments}</p>\n    <p><b>Downloads</b> ${downloads}</p>\n  </div>\n</li>`;\n      }\n    )\n    .join('');\n  galleryContainer.insertAdjacentHTML('beforeend', galleryItem);\n  // Додаємо бібліотеку SimpleLightbox\n  let gallery = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n  });\n  gallery.refresh();\n}\n"],"names":["form","galleryContainer","loader","onSearchImg","event","searchQuery","iziToast","fetchQuery","url","response","data","displayImages","error","images","galleryItem","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox"],"mappings":"6vBAQA,MAAMA,EAAO,CACX,WAAY,SAAS,cAAc,cAAc,EACjD,MAAO,SAAS,cAAc,eAAe,CAC/C,EAEMC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,WAAW,iBAAiB,SAAUG,CAAW,EAEtD,SAASA,EAAYC,EAAO,CAC1BA,EAAM,eAAc,EACpB,MAAMC,EAAcL,EAAK,MAAM,MAAM,KAAI,EACzC,GAAI,CAACK,EAAa,CAChBC,EAAS,MAAM,CACb,QAAS,2BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDJ,EAAO,MAAM,QAAU,QAGvBK,EAAWF,CAAW,EAEtBL,EAAK,WAAW,OAClB,CAGA,SAASO,EAAWF,EAAa,CAS/B,MAAMG,EAAM,4BARS,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,IAKD,MAAMG,CAAG,EACN,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBJ,EAAS,MAAM,CACb,QACE,2EACF,YAAa,KACb,SAAU,UACpB,CAAS,EAGDK,EAAcD,EAAK,IAAI,CAE/B,CAAK,EACA,MAAME,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CAEbV,EAAO,MAAM,QAAU,MAC7B,CAAK,CACL,CAIA,SAASS,EAAcE,EAAQ,CAE7BZ,EAAiB,UAAY,GAC7B,MAAMa,EAAcD,EACjB,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,kCACmBL;AAAA;AAAA;AAAA,aAGrBD;AAAA,aACAE;AAAA;AAAA;AAAA;AAAA,sBAISC;AAAA,sBACAC;AAAA,yBACGC;AAAA,0BACCC;AAAA;AAAA,MAIrB,EACA,KAAK,EAAE,EACVpB,EAAiB,mBAAmB,YAAaa,CAAW,EAE9C,IAAIQ,EAAe,aAAc,CAC7C,aAAc,KAClB,CAAG,EACO,QAAO,CACjB"}